@model RentalDetailVM
@{
    ViewData["Title"] = "Detail";
}


<div class="container">
    <nav class="breadcrumb-nav">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="~/Customer/Home"><i class="fa fa-home"></i></a></li>
            <li class="breadcrumb-item"><a>@Model.Rental.Car.Brand.Name</a></li>
        </ol>
    </nav>

    <div class="card p-4">
        <div class="row">
            <div class="col-4">
                <img src="~/images/car/@(Model.Rental.Car?.Image==null?"empty.jpg":Model.Rental.Car.Image)" width="100%" />
            </div>
            <div class="col-8">
                <h3>@Model.Rental.Car.Brand.Name</h3>
                <hr />
                <p>
                    @Model.Rental.Car?.Description
                </p>
                <hr />
                <label>Available: @(Model.Rental.Car?.IsStatus == true ? "Available" : "Not Available")</label>
                <hr />
                <h3 class="text-primary">@Model.Rental.Car?.Price.ToString("0.00") TL</h3>
                <hr />

                <form method="post">
                    <input type="hidden" asp-for="Rental.Id" />
                    <input type="hidden" asp-for="Rental.CarId" name="Rental.CarId"/>
                    <label for="RentalStartDate">Start Date:</label>
                    <input class="form-control" type="date" asp-for="Rental.RentalStartDate" value="@Model.Rental.RentalStartDate.ToString("yyyy-MM-dd")" name="Rental.RentalStartDate" />

                    <label for="RentalEndDate">End Date:</label>
                    <input class="form-control" type="date" asp-for="Rental.RentalEndDate" value="@Model.Rental.RentalEndDate.ToString("yyyy-MM-dd")" name="Rental.RentalEndDate" />

                    <div id="calculatedPrice">
                        @if (ViewData["TotalPrice"] != null)
                        {
                            <h3>Total Price: @(ViewData["TotalPrice"].ToString()) TL</h3>
                        }
                    </div>
                    @if (User.Identity.IsAuthenticated)
                    {
                        if (Model.Rental.Car.IsStatus)
                        {
                            <input type="submit" class="btn btn-success" value="Rent Car" />
                        }
                        else
                        {
                            <input type="button" class="btn btn-danger" value="Not Available" disabled />
                        }
                    }
                    else
                    {
                        <a class="btn btn-secondary" asp-area="Identity" asp-page="/Account/Login">Login</a>
                    }
                </form>

             
            </div>
        </div>
    </div>
</div>